<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Chemistry Exhibition 2025 — Dark Electric (White-Cyan)</title>

<!-- Inline neo-atomic SVG favicon (embedded so it shows reliably) -->
<link rel="icon" href="data:image/svg+xml;utf8,
<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'>
  <rect width='100' height='100' rx='16' fill='%23060714'/>
  <g transform='translate(50,50)'>
    <ellipse rx='30' ry='10' fill='none' stroke='%23e6ffff' stroke-width='2.8' transform='rotate(0)'/>
    <ellipse rx='30' ry='10' fill='none' stroke='%2300ffff' stroke-width='2.6' transform='rotate(60)'/>
    <ellipse rx='30' ry='10' fill='none' stroke='%23a6f0ff' stroke-width='2.2' transform='rotate(120)'/>
    <circle cx='0' cy='0' r='8' fill='%23e6ffff' stroke='%23ffffff' stroke-opacity='0.14' stroke-width='1.2'/>
  </g>
</svg>">

<!-- Tailwind CDN for quick utility classes (optional but convenient) -->
<script src="https://cdn.tailwindcss.com"></script>

<style>
  :root{
    --bg:#030414;
    --panel:#071022;
    --white-cyan:#e6ffff;
    --cyan:#00f0ff;
    --muted:#9aa7b2;
    --glass: rgba(255,255,255,0.03);
    --glow: 0 10px 50px rgba(0,240,255,0.12);
  }
  html { scroll-behavior:smooth; }
  body{
    margin:0;
    font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Arial;
    background:
      radial-gradient(800px 380px at 10% 12%, rgba(0,240,255,0.02), transparent 6%),
      radial-gradient(700px 340px at 92% 88%, rgba(230,255,255,0.01), transparent 6%),
      var(--bg);
    color:var(--white-cyan);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    min-height:100vh;
    overflow-x:hidden;
  }

  /* NAV */
  nav { position:fixed; top:18px; left:50%; transform:translateX(-50%); z-index:120; width:94%; max-width:1200px; }
  .navglass{ background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border:1px solid rgba(255,255,255,0.03); backdrop-filter: blur(6px); border-radius:14px; padding:12px 18px; display:flex; align-items:center; justify-content:space-between; gap:12px; box-shadow: var(--glow); }
  .navglass a { color: var(--white-cyan); text-decoration:none; font-weight:700; font-size:13px; opacity:0.95; }

  /* HERO */
  .hero {
    background: linear-gradient(180deg, rgba(2,6,23,0.6), rgba(2,6,23,0.88)), url('https://images.unsplash.com/photo-1542534744-8c80a0a9a408?auto=format&fit=crop&w=2000&q=80');
    background-size:cover; background-position:center;
    min-height:86vh; display:flex; align-items:center; justify-content:center; text-align:center; padding:56px 20px; position:relative; overflow:hidden;
  }
  .hero h1 { font-size:clamp(34px,6vw,64px); line-height:1.02; font-weight:900; background: linear-gradient(90deg, rgba(230,255,255,1), rgba(0,240,255,0.9)); -webkit-background-clip:text; -webkit-text-fill-color:transparent; }

  /* canvas layers */
  #bg-canvas, #ripple-canvas { position:absolute; inset:0; z-index:0; pointer-events:none; }

  main { max-width:1200px; margin:72px auto 120px; padding:0 20px; position:relative; z-index:30; }

  /* panels and slider */
  .panel { background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border:1px solid rgba(255,255,255,0.03); border-radius:12px; padding:16px; box-shadow: 0 28px 64px rgba(0,0,0,0.6); }
  .slider{ display:flex; gap:18px; overflow-x:auto; scroll-snap-type:x mandatory; padding:22px 4px; -webkit-overflow-scrolling:touch; }
  .slide{ min-width:72%; scroll-snap-align:center; border-radius:12px; overflow:hidden; transition:transform .28s ease, box-shadow .28s ease; background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.01)); border:1px solid rgba(255,255,255,0.03); cursor:pointer; box-shadow: var(--glow); }
  .slide:hover{ transform:translateY(-10px) scale(1.01); }
  .slide img{ width:100%; height:440px; object-fit:cover; display:block; filter: saturate(1.02) contrast(1.02); background:#08101a; }

  @media (max-width:900px){ .slide{ min-width:92%; } .slide img{ height:260px; } .navglass{ padding:10px } }

  /* team / persons */
  .person { cursor:pointer; transition:transform .18s ease, box-shadow .18s ease; }
  .person:hover { transform:translateY(-6px); box-shadow: 0 20px 60px rgba(0,240,255,0.08); }

  /* buttons */
  .btn { display:inline-block; padding:10px 14px; border-radius:999px; font-weight:800; cursor:pointer; border:none; }
  .btn-ghost { background:transparent; color:var(--white-cyan); border:1px solid rgba(255,255,255,0.05); }
  .btn-primary { background:linear-gradient(90deg, rgba(255,255,255,0.06), rgba(0,240,255,0.06)); color:var(--bg); box-shadow: var(--glow); }
  .btn-primary:hover{ transform:translateY(-3px); }

  /* reveal */
  .reveal { opacity:0; transform:translateY(18px); transition:opacity .6s ease, transform .6s ease; will-change:opacity, transform; }
  .reveal.show { opacity:1; transform:translateY(0); }

  .shimmer { position:relative; overflow:hidden; display:inline-block; }
  .shimmer::after{ content:""; position:absolute; inset:0; left:-60%; width:60%; background:linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.12) 50%, rgba(255,255,255,0) 100%); transform:skewX(-18deg); animation: shimmer 4.2s linear infinite; pointer-events:none; opacity:0.6; }
  @keyframes shimmer { 0%{ left:-60% } 100%{ left:160% } }

  /* detail view */
  #detailView { display:none; padding-top:120px; padding-bottom:80px; min-height:60vh; position:relative; z-index:40; }
  .detail-enter { animation: detailIn .42s cubic-bezier(.2,.9,.25,1) both; }
  @keyframes detailIn { from { opacity:0; transform:translateY(18px) scale(.996); } to { opacity:1; transform:translateY(0) scale(1);} }

  /* bio overlay with inset: 1cm */
  .bio-overlay {
    position:fixed;
    inset:1cm; /* 1 cm margin on each edge */
    z-index:210;
    background: linear-gradient(180deg, rgba(2,6,18,0.92), rgba(3,8,22,0.96));
    border:1px solid rgba(255,255,255,0.05);
    border-radius:12px;
    padding:18px;
    box-shadow: 0 40px 120px rgba(0,240,255,0.06);
    backdrop-filter: blur(8px);
    color:var(--white-cyan);
    display:flex;
    gap:18px;
    align-items:flex-start;
    overflow:auto;
    transform-origin:center center;
  }

  .bio-photo { width:260px; min-width:160px; height:260px; border-radius:10px; object-fit:cover; background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border:1px solid rgba(255,255,255,0.03); display:flex; align-items:center; justify-content:center; color:rgba(230,247,255,0.7); font-weight:700; }

  /* overlay ripple canvas inside the overlay; used to display glow ripple */
  .bio-overlay canvas { position:absolute; inset:0; z-index:180; pointer-events:none; border-radius:12px; }

  footer { text-align:center; color:rgba(230,255,255,0.6); padding-bottom:40px; margin-top:28px; }

  .muted{ color:var(--muted); }
</style>
</head>
<body>

<!-- NAV -->
<nav>
  <div class="navglass mx-auto" style="max-width:1200px;">
    <div style="display:flex;align-items:center;gap:12px;">
      <div style="width:56px;height:56px;border-radius:12px;background:linear-gradient(90deg,var(--white-cyan),var(--cyan));display:flex;align-items:center;justify-content:center;font-weight:900;color:#021226">CE</div>
      <div>
        <div style="font-weight:900;color:var(--white-cyan)">Chemistry Exhibition</div>
        <div style="font-size:12px;color:rgba(230,255,255,0.65)">2025 — Department of Chemical Sciences</div>
      </div>
    </div>

    <div style="display:flex;gap:16px;align-items:center;">
      <a href="#" class="navlink" data-scroll="home">Home</a>
      <a href="#about" class="navlink" data-scroll="about">About</a>
      <a href="#team" class="navlink" data-scroll="team">Team</a>
      <a href="#teachers" class="navlink" data-scroll="teachers">Teachers</a>
      <a href="#exhibits" class="navlink" data-scroll="exhibits">Exhibits</a>
      <a href="#exchange" class="navlink" data-scroll="exchange">Exchange</a>
      <a href="#contact" class="navlink" data-scroll="contact">Contact</a>
    </div>
  </div>
</nav>

<!-- HERO -->
<header id="home" class="hero relative">
  <canvas id="bg-canvas"></canvas>
  <canvas id="ripple-canvas"></canvas>

  <div style="z-index:40; max-width:1100px; padding:28px;">
    <h1 class="shimmer">CHEMISTRY EXHIBITION <span style="display:block;font-size:18px;color:rgba(230,255,255,0.85);font-weight:700;margin-top:8px">2025 — From molecules to materials</span></h1>
    <p style="margin-top:18px;color:rgba(230,255,255,0.9);font-size:18px;max-width:840px;margin-left:auto;margin-right:auto;">
      A dynamic, high-energy showcase. Click exhibits to open their detailed page inside this site — energy waves animate the transition (visual only).
    </p>

    <div style="margin-top:24px;display:flex;gap:12px;justify-content:center;">
      <button class="btn btn-primary" id="exploreBtn" style="padding:12px 18px; font-weight:900;">Explore Exhibits</button>
      <a href="#exchange" class="btn btn-ghost" style="padding:10px 14px;">See Exchange</a>
    </div>
  </div>
</header>

<main id="mainView">

  <!-- ABOUT -->
  <section id="about" class="mt-8 mb-8 reveal">
    <div style="display:grid;grid-template-columns:1fr 360px;gap:22px;align-items:start;">
      <div>
        <h2 style="font-size:22px;font-weight:900;color:var(--white-cyan)">About the Exhibition</h2>
        <p class="muted" style="margin-top:10px;line-height:1.6">
          Chemistry Exhibition 2025 presents student-led exhibits and field exchanges covering space chemistry, green chemistry, nanotech, forensic analysis, polymers and more.
        </p>
      </div>
      <div class="panel reveal">
        <div style="font-weight:800;color:var(--cyan)">Event snapshot</div>
        <ul style="margin-top:10px;color:rgba(230,255,255,0.95);line-height:1.6">
          <li><strong>When:</strong> Full-day event</li>
          <li><strong>Where:</strong> Main Hall & Labs</li>
          <li><strong>Audience:</strong> Students, educators, public visitors</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- TEAM: Arjun, Samarth, Vansh, Aksh (all same size) -->
  <section id="team" class="mb-10 reveal">
    <h2 style="font-size:22px;font-weight:900;color:var(--white-cyan)">Student Team</h2>
    <p class="muted" style="margin-top:8px">Core student organizers (names preserved).</p>

    <div style="margin-top:12px;display:grid;grid-template-columns:repeat(3,1fr);gap:14px;">
      <!-- Arjun -->
      <div class="panel person" tabindex="0" role="button" onclick="openBio('arjun')" onkeypress="if(event.key==='Enter') openBio('arjun')">
        <div style="display:flex;gap:12px;align-items:center">
          <div style="width:56px;height:56px;border-radius:12px;background:linear-gradient(90deg,var(--white-cyan),var(--cyan));display:flex;align-items:center;justify-content:center;font-weight:900;color:#021226">A</div>
          <div>
            <div style="font-weight:900">Arjun Tosawad</div>
            <div class="muted">President</div>
          </div>
        </div>
        <p class="muted" style="margin-top:8px">Leads coordination, presentation, and safety for high-impact demonstrations.</p>
      </div>

      <!-- Samarth -->
      <div class="panel person" tabindex="0" role="button" onclick="openBio('samarth')" onkeypress="if(event.key==='Enter') openBio('samarth')">
        <div style="display:flex;gap:12px;align-items:center">
          <div style="width:56px;height:56px;border-radius:12px;background:linear-gradient(90deg,#8b5cf6,#06b6d4);display:flex;align-items:center;justify-content:center;font-weight:900;color:#021226">S</div>
          <div>
            <div style="font-weight:900">Samarth Jain</div>
            <div class="muted">Secretary</div>
          </div>
        </div>
        <p class="muted" style="margin-top:8px">Documentation & scheduling lead; visitor coordination.</p>
      </div>

      <!-- Vansh -->
      <div class="panel person" tabindex="0" role="button" onclick="openBio('vansh')" onkeypress="if(event.key==='Enter') openBio('vansh')">
        <div style="display:flex;gap:12px;align-items:center">
          <div style="width:56px;height:56px;border-radius:12px;background:linear-gradient(90deg,#00f0ff,#a6f0ff);display:flex;align-items:center;justify-content:center;font-weight:900;color:#021226">V</div>
          <div>
            <div style="font-weight:900">Vansh Mittal</div>
            <div class="muted">Secretary</div>
          </div>
        </div>
        <p class="muted" style="margin-top:8px">Assists documentation, communications and logistics.</p>
      </div>

      <!-- Aksh (Tech Head) -->
      <div class="panel person" tabindex="0" role="button" onclick="openBio('aksh')" onkeypress="if(event.key==='Enter') openBio('aksh')">
        <div style="display:flex;gap:12px;align-items:center">
          <div style="width:56px;height:56px;border-radius:12px;background:linear-gradient(90deg,var(--cyan),var(--white-cyan));display:flex;align-items:center;justify-content:center;font-weight:900;color:#021226">AK</div>
          <div>
            <div style="font-weight:900">Aksh Sharma</div>
            <div class="muted">Tech Head</div>
            <div class="muted" style="margin-top:6px">Responsible for interactive displays and the website tech stack.</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- TEACHERS -->
  <section id="teachers" class="mb-12 reveal">
    <h2 style="font-size:22px;font-weight:900;color:var(--white-cyan)">Faculty & Mentors</h2>
    <div style="margin-top:12px;display:grid;grid-template-columns:repeat(3,1fr);gap:14px;">
      <div class="panel person" tabindex="0" role="button" onclick="openBio('sankalp')" onkeypress="if(event.key==='Enter') openBio('sankalp')">
        <div style="font-weight:900;color:var(--cyan)">Mr. Sankalp Maheshwari</div>
        <div class="muted" style="margin-top:6px">Professor of Organic Chemistry</div>
        <p class="muted" style="margin-top:8px">Leads experimental design and pyrotechnics demonstrations.</p>
      </div>

      <div class="panel person" tabindex="0" role="button" onclick="openBio('ankita')" onkeypress="if(event.key==='Enter') openBio('ankita')">
        <div style="font-weight:900;color:var(--cyan)">Mrs. Ankita Sharma</div>
        <div class="muted" style="margin-top:6px">Associate Professor — Materials & Nanotech</div>
        <p class="muted" style="margin-top:8px">Mentors nanotech exhibits and materials characterization workflows.</p>
      </div>

      <div class="panel person" tabindex="0" role="button" onclick="openBio('sudeep')" onkeypress="if(event.key==='Enter') openBio('sudeep')">
        <div style="font-weight:900;color:var(--cyan)">Mr. Sudeep XYZ</div>
        <div class="muted" style="margin-top:6px">Lecturer — Physical & Analytical Chemistry</div>
        <p class="muted" style="margin-top:8px">Leads forensic chemistry demos and spectroscopy workshops.</p>
      </div>
    </div>
  </section>

  <!-- EXHIBITS: using the direct image URLs you provided -->
  <section id="exhibits" class="mb-12 reveal">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <div>
        <h2 style="font-size:22px;font-weight:900;color:var(--white-cyan)">Featured Exhibits</h2>
        <div class="muted" style="margin-top:6px">Click or press Enter to open the exhibit page (same tab). Visual ripple accompanies the transition.</div>
      </div>
      <div style="display:flex;gap:10px">
        <button onclick="scrollSlider(-1)" class="px-3 py-2 rounded bg-white/5">Prev</button>
        <button onclick="scrollSlider(1)" class="px-3 py-2 rounded" style="background:linear-gradient(90deg, rgba(255,255,255,0.06), rgba(0,240,255,0.06));color:var(--bg)">Next</button>
      </div>
    </div>

    <div class="slider mt-6" id="slider">

      <!-- Chemistry In Space -->
      <div class="slide" tabindex="0" role="button" onclick="triggerEnergyAndOpen('chem-space')" onkeypress="if(event.key==='Enter') triggerEnergyAndOpen('chem-space')">
        <img src="https://ls.wisc.edu/assets/slideshow/_645x415_crop_center-center_none_ns/chemistry-in-space-FD-Getty-Images-645x415.jpg" alt="Chemistry in Space">
        <div style="padding:12px">
          <div style="font-weight:900;color:var(--white-cyan)">Chemistry In Space</div>
          <div class="muted" style="margin-top:6px">Astrochemistry: microgravity reactions, propellants & life-support systems.</div>
        </div>
      </div>

      <!-- Green Chemistry Revolution -->
      <div class="slide" tabindex="0" role="button" onclick="triggerEnergyAndOpen('green-chemistry')" onkeypress="if(event.key==='Enter') triggerEnergyAndOpen('green-chemistry')">
        <img src="https://www.pumpsandsystems.com/sites/default/files/2023-10/CS_Mills-Winfield_IMG1_980x400.jpg" alt="Green Chemistry">
        <div style="padding:12px">
          <div style="font-weight:900;color:var(--white-cyan)">Green Chemistry Revolution</div>
          <div class="muted" style="margin-top:6px">Sustainable syntheses, recyclable catalysts and biopolymers.</div>
        </div>
      </div>

      <!-- Nanotechnology In Medicine -->
      <div class="slide" tabindex="0" role="button" onclick="triggerEnergyAndOpen('nanotech')" onkeypress="if(event.key==='Enter') triggerEnergyAndOpen('nanotech')">
        <img src="https://thumbs.dreamstime.com/b/advancements-nanotechnology-manipulating-materials-molecular-level-concept-involves-atomic-scale-to-create-new-349226392.jpg" alt="Nanotechnology">
        <div style="padding:12px">
          <div style="font-weight:900;color:var(--white-cyan)">Nanotechnology In Medicine</div>
          <div class="muted" style="margin-top:6px">Targeted delivery, diagnostics & nanoparticle chemistry.</div>
        </div>
      </div>

      <!-- Forensic And Analytical Chemistry -->
      <div class="slide" tabindex="0" role="button" onclick="triggerEnergyAndOpen('forensic')" onkeypress="if(event.key==='Enter') triggerEnergyAndOpen('forensic')">
        <img src="https://www.cgc.ac.in/public/tiny-uploads/_forensic%20science.jpg" alt="Forensic Chemistry">
        <div style="padding:12px">
          <div style="font-weight:900;color:var(--white-cyan)">Forensic & Analytical Chemistry</div>
          <div class="muted" style="margin-top:6px">Crime-scene simulation and analytical techniques.</div>
        </div>
      </div>

      <!-- Polymer Art And Smart Materials -->
      <div class="slide" tabindex="0" role="button" onclick="triggerEnergyAndOpen('polymer')" onkeypress="if(event.key==='Enter') triggerEnergyAndOpen('polymer')">
        <img src="https://www.bruker.com/pt/products-and-solutions/mr/chemistry/polymer-chemistry/_jcr_content/root/overviewstage/desktopImage.coreimg.82.1920.jpeg/1733858510945/polymer-chemistry.jpeg0CBUQjRxqFwoTCPiunM7s5pADFQAAAAAdAAAAABAE" alt="Polymer Art">
        <div style="padding:12px">
          <div style="font-weight:900;color:var(--white-cyan)">Polymer Art & Smart Materials</div>
          <div class="muted" style="margin-top:6px">Shape-memory polymers, responsive hydrogels & wearables.</div>
        </div>
      </div>

      <!-- Chemistry In Fireworks -->
      <div class="slide" tabindex="0" role="button" onclick="triggerEnergyAndOpen('fireworks')" onkeypress="if(event.key==='Enter') triggerEnergyAndOpen('fireworks')">
        <img src="https://scx2.b-cdn.net/gfx/news/hires/2017/chemistexpla.jpg" alt="Fireworks Chemistry">
        <div style="padding:12px">
          <div style="font-weight:900;color:var(--white-cyan)">Chemistry In Fireworks</div>
          <div class="muted" style="margin-top:6px">Metal salts, oxidizers and safe demonstration design.</div>
        </div>
      </div>

    </div>
  </section>

  <!-- EXCHANGE (placeholder — you said you'll give details later) -->
  <section id="exchange" class="mb-12 reveal">
    <div style="display:flex;justify-content:space-between;align-items:center;">
      <div>
        <h2 style="font-size:22px;font-weight:900;color:var(--white-cyan)">Exchange & Industry Visits</h2>
        <div class="muted" style="margin-top:6px">(Details to be added by you later.)</div>
      </div>
    </div>
  </section>

  <!-- SCHEDULE -->
  <section id="schedule" class="mb-12 reveal">
    <h2 style="font-size:22px;font-weight:900;color:var(--white-cyan)">Event Schedule</h2>
    <div style="display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-top:12px">
      <div class="panel">9:00 AM — Opening Ceremony & Keynote</div>
      <div class="panel">10:00 AM — Guided Exhibit Walkthrough</div>
      <div class="panel">12:30 PM — Lunch & Poster Talks</div>
      <div class="panel">2:00 PM — Interactive Demonstrations</div>
      <div class="panel">4:00 PM — Awards & Closing Remarks</div>
    </div>
  </section>

  <!-- CONTACT -->
  <section id="contact" class="mb-24 reveal">
    <div style="display:flex;gap:18px;align-items:center;justify-content:space-between;">
      <div>
        <h3 style="font-weight:900;color:var(--white-cyan)">Contact & Inquiries</h3>
        <p class="muted" style="margin-top:8px">For collaborations, media requests or participation contact:</p>
        <div style="margin-top:8px;color:var(--cyan);font-weight:800">chemexpo2025@school.edu</div>
      </div>
      <div class="panel">
        <div style="font-weight:900;color:var(--cyan)">Venue</div>
        <div class="muted" style="margin-top:6px">Main campus — Exhibition Hall & Research Labs</div>
      </div>
    </div>
  </section>

  <footer>© 2025 Chemistry Exhibition — Department of Chemical Sciences</footer>
</main>

<!-- DETAIL VIEW (SPA) -->
<section id="detailView" style="display:none; padding-top:120px; padding-bottom:80px; min-height:60vh; position:relative; z-index:50;">
  <div id="detailContent" style="max-width:1100px;margin:0 auto;padding:18px;"></div>
</section>

<!-- bio overlay container (we insert a .bio-overlay element here when needed) -->
<div id="bioContainer" style="display:none;"></div>

<!-- modal preview (simple preview modal used rarely) -->
<div id="modal" style="display:none;position:fixed;inset:0;align-items:center;justify-content:center;background:rgba(2,6,23,0.75);z-index:260;padding:28px;">
  <div style="width:100%;max-width:880px;border-radius:12px;background:linear-gradient(180deg,#071022,#071426);border:1px solid rgba(255,255,255,0.04);padding:18px;color:var(--white-cyan)">
    <div style="display:flex;justify-content:space-between;align-items:center;">
      <div>
        <div id="modalTitle" style="font-weight:900;color:var(--cyan)"></div>
        <div id="modalSub" style="color:rgba(230,255,255,0.8);margin-top:6px">Quick preview</div>
      </div>
      <div><button onclick="closeModal()" style="padding:8px 10px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--white-cyan)">Close</button></div>
    </div>
    <div id="modalContent" style="margin-top:12px;color:rgba(230,255,255,0.9);line-height:1.6"></div>
  </div>
</div>

<script>
/* =========================
   Particle background canvas
   ========================= */
(() => {
  const canvas = document.getElementById('bg-canvas');
  const dpr = Math.max(1, window.devicePixelRatio || 1);
  let w, h, ctx, particles = [];

  function resize() {
    w = canvas.width = Math.max(document.documentElement.clientWidth, window.innerWidth) * dpr;
    h = canvas.height = Math.max(document.documentElement.clientHeight, window.innerHeight) * dpr;
    canvas.style.width = (w / dpr) + 'px';
    canvas.style.height = (h / dpr) + 'px';
    if(!ctx) ctx = canvas.getContext('2d');
  }

  function rand(min, max) { return Math.random() * (max - min) + min; }

  function initParticles() {
    particles = [];
    const count = Math.round((w / dpr) * (h / dpr) / 88000);
    for(let i=0;i<count;i++){
      particles.push({
        x: Math.random() * w,
        y: Math.random() * h,
        r: rand(1.2, 3.6) * dpr,
        vx: rand(-0.35, 0.35) * dpr,
        vy: rand(-0.22, 0.22) * dpr
      });
    }
  }

  function draw() {
    ctx.clearRect(0,0,w,h);
    const grad = ctx.createRadialGradient(w*0.2, h*0.12, 0, w*0.5, h*0.5, Math.max(w,h));
    grad.addColorStop(0, 'rgba(0,240,255,0.02)');
    grad.addColorStop(1, 'rgba(0,0,0,0)');
    ctx.fillStyle = grad;
    ctx.fillRect(0,0,w,h);

    for(const p of particles){
      ctx.beginPath();
      const g = ctx.createRadialGradient(p.x - 1*p.r, p.y - 1*p.r, 0, p.x, p.y, p.r*2);
      g.addColorStop(0, 'rgba(230,255,255,0.95)');
      g.addColorStop(0.5, 'rgba(0,240,255,0.65)');
      g.addColorStop(1, 'rgba(0,0,0,0)');
      ctx.fillStyle = g;
      ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
      ctx.fill();
    }
  }

  function step() {
    for(const p of particles){
      p.x += p.vx;
      p.y += p.vy;
      if(p.x < -20*dpr) p.x = w + 20*dpr;
      if(p.x > w + 20*dpr) p.x = -20*dpr;
      if(p.y < -20*dpr) p.y = h + 20*dpr;
      if(p.y > h + 20*dpr) p.y = -20*dpr;
    }
    draw();
    requestAnimationFrame(step);
  }

  function start() { resize(); initParticles(); step(); }

  window.addEventListener('resize', () => { resize(); initParticles(); });
  start();
})();

/* =========================
   Ripple canvas (visual only)
   ========================= */
const rippleCanvas = document.getElementById('ripple-canvas');
const rc = rippleCanvas.getContext ? rippleCanvas.getContext('2d') : null;
const DPR = Math.max(1, window.devicePixelRatio || 1);
let rw, rh;
function resizeRipple(){
  if(!rippleCanvas) return;
  rw = rippleCanvas.width = Math.max(document.documentElement.clientWidth, window.innerWidth) * DPR;
  rh = rippleCanvas.height = Math.max(document.documentElement.clientHeight, window.innerHeight) * DPR;
  rippleCanvas.style.width = (rw / DPR) + 'px';
  rippleCanvas.style.height = (rh / DPR) + 'px';
}
resizeRipple();
window.addEventListener('resize', resizeRipple);

let ripples = [];
function createRipple(x, y, color='#bff', maxR=700, duration=900){
  ripples.push({x:x*DPR, y:y*DPR, t:performance.now(), maxR, color, duration});
}
function drawRipples(){
  if(!rc) return;
  rc.clearRect(0,0,rw,rh);
  const now = performance.now();
  for(let i=ripples.length-1;i>=0;i--){
    const r = ripples[i];
    const elapsed = now - r.t;
    const progress = Math.min(1, elapsed / r.duration);
    const radius = r.maxR * (1 - Math.pow(1 - progress, 3));
    const alpha = 0.9 * (1 - progress);
    rc.beginPath();
    rc.lineWidth = 8 * (1 - progress) + 1;
    rc.strokeStyle = hexToRgba(r.color, alpha);
    rc.arc(r.x, r.y, radius, 0, Math.PI*2);
    rc.stroke();
    if(progress >= 1) ripples.splice(i,1);
  }
}
function loopRipples(){ drawRipples(); requestAnimationFrame(loopRipples); }
loopRipples();

function hexToRgba(hex, a){
  if(hex.startsWith('#')) {
    const bigint = parseInt(hex.slice(1),16);
    const r = (bigint>>16)&255, g=(bigint>>8)&255, b=bigint&255;
    return `rgba(${r},${g},${b},${a})`;
  }
  return hex;
}

/* =========================
   SPA data (exhibits & exchange placeholders)
   ========================= */
const PAGES = {
  'chem-space': { title: 'Chemistry In Space', subtitle: 'Microgravity reactions, propellants and life-support chemistry', content: '<p class=\"muted\">Full detailed content placeholder for Chemistry In Space. Replace with your text and images later.</p>' },
  'green-chemistry': { title: 'Green Chemistry Revolution', subtitle: 'Sustainable syntheses and lifecycle approaches', content: '<p class=\"muted\">Full detailed content placeholder for Green Chemistry Revolution.</p>' },
  'nanotech': { title: 'Nanotechnology In Medicine', subtitle: 'Nanoparticles for targeting and diagnostics', content: '<p class=\"muted\">Full detailed content placeholder for Nanotechnology in Medicine.</p>' },
  'forensic': { title: 'Forensic & Analytical Chemistry', subtitle: 'Analytical pipelines and crime-scene simulation', content: '<p class=\"muted\">Full detailed content placeholder for Forensic & Analytical Chemistry.</p>' },
  'polymer': { title: 'Polymer Art & Smart Materials', subtitle: 'Shape-memory systems and wearable chemistry', content: '<p class=\"muted\">Full detailed content placeholder for Polymer Art & Smart Materials.</p>' },
  'fireworks': { title: 'Chemistry In Fireworks', subtitle: 'Color chemistry, oxidizers and safe demonstrative design', content: '<p class=\"muted\">Full detailed content placeholder for The Chemistry of Fireworks.</p>' },

  'marble-factory': { title: 'Marble Factory Visit', subtitle: 'Industrial materials report', content: '<p class=\"muted\">Placeholder — will add later.</p>' },
  'spain-forensics': { title: 'Spain Forensic Labs', subtitle: 'International exchange report', content: '<p class=\"muted\">Placeholder — will add later.</p>' },
  'cern': { title: 'CERN, Switzerland', subtitle: 'Detector & materials interactions', content: '<p class=\"muted\">Placeholder — will add later.</p>' }
};

/* =========================
   SPA functions and navigation
   ========================= */
const mainView = document.getElementById('mainView');
const detailView = document.getElementById('detailView');
const detailContent = document.getElementById('detailContent');

function renderPage(key){
  const page = PAGES[key];
  if(!page) return;
  history.pushState({page:key}, '', `#${key}`);
  mainView.style.display = 'none';
  detailView.style.display = 'block';
  detailContent.innerHTML = `
    <div class="panel detail-enter">
      <div style="display:flex;justify-content:space-between;align-items:flex-start;gap:18px;">
        <div style="flex:1 1 64%;">
          <h1 style="font-size:28px;font-weight:900;color:var(--cyan)">${escapeHtml(page.title)}</h1>
          <div style="margin-top:8px;color:var(--white-cyan);font-weight:700">${escapeHtml(page.subtitle)}</div>
          <div style="margin-top:12px;color:var(--white-cyan)">${page.content}</div>
        </div>
        <aside style="width:320px;">
          <div class="panel">
            <div style="font-weight:900;color:var(--white-cyan)">Quick Info</div>
            <div class="muted" style="margin-top:8px">Use Back to return to the main view.</div>
            <div style="margin-top:12px;display:flex;gap:8px;">
              <button class="btn btn-primary" onclick="createRipple(window.innerWidth*0.5, window.innerHeight*0.3, '#bff', 700, 1000)">Visual</button>
              <button class="btn btn-ghost" onclick="goBack()">Back</button>
            </div>
          </div>
        </aside>
      </div>
    </div>
  `;
  detailView.scrollIntoView({behavior:'smooth', block:'start'});
}

function goBack(){
  history.pushState({page:'main'}, '', location.pathname);
  detailView.style.display = 'none';
  mainView.style.display = 'block';
  window.scrollTo({top:0, behavior:'smooth'});
}

window.addEventListener('popstate', (e) => {
  const st = e.state;
  if(!st || st.page === 'main'){
    detailView.style.display = 'none';
    mainView.style.display = 'block';
  } else {
    renderPage(st.page);
  }
});

/* trigger visual ripple then open page (no audio) */
function triggerEnergyAndOpen(key){
  const x = window.innerWidth * 0.5;
  const y = window.innerHeight * 0.28;
  createRipple(x,y,'#bff',900,1100);
  setTimeout(()=> renderPage(key), 380);
}

/* slider helper */
const slider = document.getElementById('slider');
function scrollSlider(dir){
  if(!slider) return;
  const step = slider.clientWidth * 0.78;
  slider.scrollBy({left: dir * step, behavior:'smooth'});
}

/* =========================
   Bio overlay logic (inset 1cm) with glow ripple
   ========================= */
const BIOS = {
  'arjun': { name:'Arjun Tosawad', role:'President', bio:'(placeholder) Arjun coordinates presentations and safety for live demos.' },
  'samarth': { name:'Samarth Jain', role:'Secretary', bio:'(placeholder) Samarth handles documentation and scheduling.' },
  'vansh': { name:'Vansh Mittal', role:'Secretary', bio:'(placeholder) Vansh manages logistics and visitor flow.' },
  'aksh': { name:'Aksh Sharma', role:'Tech Head', bio:'(placeholder) Aksh leads IT, projection mapping and interactive systems.' },
  'sankalp': { name:'Mr. Sankalp Maheshwari', role:'Professor of Organic Chemistry', bio:'(placeholder) Sankalp mentors pyrotechnics & organic modules.' },
  'ankita': { name:'Mrs. Ankita Sharma', role:'Associate Professor — Materials & Nanotech', bio:'(placeholder) Ankita mentors nanotech exhibits.' },
  'sudeep': { name:'Mr. Sudeep XYZ', role:'Lecturer — Physical & Analytical Chemistry', bio:'(placeholder) Sudeep leads forensic demos.' }
};

const bioContainer = document.getElementById('bioContainer');

function openBio(key){
  const p = BIOS[key];
  if(!p) return;
  // clear any existing overlay
  bioContainer.innerHTML = '';
  bioContainer.style.display = 'block';

  // create overlay element
  const el = document.createElement('div');
  el.className = 'bio-overlay detail-enter';
  el.innerHTML = `
    <canvas class="overlay-ripple"></canvas>
    <div style="display:flex;gap:18px;align-items:flex-start;width:100%;">
      <div style="flex:0 0 260px;">
        <div class="bio-photo">
          <img src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?auto=format&fit=crop&w=600&q=60" alt="portrait" style="width:100%;height:100%;object-fit:cover;border-radius:8px;">
        </div>
      </div>
      <div style="flex:1 1 auto;position:relative;z-index:195;">
        <div style="display:flex;justify-content:space-between;align-items:start;">
          <div>
            <div style="font-weight:900;font-size:20px;color:var(--cyan)">${escapeHtml(p.name)}</div>
            <div class="muted" style="margin-top:6px">${escapeHtml(p.role)}</div>
          </div>
          <div style="display:flex;gap:10px;">
            <button class="btn btn-primary" onclick="createRipple(window.innerWidth*0.5, window.innerHeight*0.5, '#bff', 420, 900)">Glow</button>
            <button class="btn btn-ghost" onclick="closeBio()">Close ✕</button>
          </div>
        </div>
        <p style="margin-top:12px;color:var(--white-cyan);line-height:1.6">${escapeHtml(p.bio)}</p>
        <p style="margin-top:10px;color:rgba(200,220,240,0.75)">(Replace this placeholder text and the portrait image later.)</p>
      </div>
    </div>
  `;
  bioContainer.appendChild(el);

  // set up overlay canvas for a concentrated glow ripple inside the overlay
  const overlayCanvas = el.querySelector('.overlay-ripple');
  const dpr = Math.max(1, window.devicePixelRatio || 1);
  overlayCanvas.width = Math.max(1, el.clientWidth) * dpr;
  overlayCanvas.height = Math.max(1, el.clientHeight) * dpr;
  overlayCanvas.style.width = el.clientWidth + 'px';
  overlayCanvas.style.height = el.clientHeight + 'px';
  overlayCanvas.style.position = 'absolute';
  overlayCanvas.style.left = '0';
  overlayCanvas.style.top = '0';
  overlayCanvas.style.borderRadius = getComputedStyle(el).borderRadius;
  const octx = overlayCanvas.getContext('2d');

  // draw a single soft expanding glow (visual only)
  let start = performance.now();
  const maxR = Math.max(overlayCanvas.width, overlayCanvas.height) * 0.6;
  function drawOverlayGlow(now){
    const t = now - start;
    const dur = 900;
    const prog = Math.min(1, t / dur);
    octx.clearRect(0,0,overlayCanvas.width, overlayCanvas.height);
    const cx = overlayCanvas.width * 0.5;
    const cy = overlayCanvas.height * 0.5;
    const radius = maxR * prog;
    const grad = octx.createRadialGradient(cx, cy, radius*0.1, cx, cy, radius);
    grad.addColorStop(0, 'rgba(0,240,255,' + (0.25*(1-prog)) + ')');
    grad.addColorStop(0.5, 'rgba(166,240,255,' + (0.12*(1-prog)) + ')');
    grad.addColorStop(1, 'rgba(0,0,0,0)');
    octx.fillStyle = grad;
    octx.beginPath();
    octx.arc(cx, cy, radius, 0, Math.PI*2);
    octx.fill();
    if(prog < 1) requestAnimationFrame(drawOverlayGlow);
  }
  requestAnimationFrame(drawOverlayGlow);

  // Also create a page-level ripple for emphasis
  createRipple(window.innerWidth*0.5, window.innerHeight*0.5, '#bff', 420, 900);
}

// close bio overlay
function closeBio(){
  bioContainer.innerHTML = '';
  bioContainer.style.display = 'none';
}

/* =========================
   Modal helpers (if needed)
   ========================= */
function openModal(title, content){
  const modal = document.getElementById('modal');
  document.getElementById('modalTitle').textContent = title;
  document.getElementById('modalContent').innerHTML = content || '<p>No preview</p>';
  modal.style.display = 'flex';
}
function closeModal(){ document.getElementById('modal').style.display = 'none'; }

/* helpers */
function escapeHtml(s){ return (s||'').toString().replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }

/* nav scroll wiring */
document.querySelectorAll('.navlink').forEach(a=>{
  a.addEventListener('click', (e)=>{
    e.preventDefault();
    const dest = a.getAttribute('data-scroll');
    if(dest === 'home') window.scrollTo({top:0,behavior:'smooth'});
    else {
      const el = document.getElementById(dest);
      if(el) el.scrollIntoView({behavior:'smooth', block:'start'});
    }
  });
});

/* Explore button */
document.getElementById('exploreBtn').addEventListener('click', ()=> {
  const el = document.getElementById('exhibits');
  if(el) el.scrollIntoView({behavior:'smooth', block:'start'});
});

/* initial reveal & load-hash */
window.addEventListener('DOMContentLoaded', ()=>{
  const hash = location.hash.replace('#','');
  if(hash && (hash in PAGES)) setTimeout(()=> renderPage(hash), 200);
  else document.querySelectorAll('.reveal').forEach((el,i)=> setTimeout(()=> el.classList.add('show'), i*80));
});

/* history initial state */
window.addEventListener('load', ()=>{
  const h = location.hash.replace('#','');
  if(h && (h in PAGES)){ history.replaceState({page:h}, '', `#${h}`); }
  else history.replaceState({page:'main'}, '', location.pathname);
});
</script>

</body>
</html>
